///////////////////////////////////////////////////////////////////////////////////////
//                                 Pin Setting                                       //
///////////////////////////////////////////////////////////////////////////////////////

int LightSensor_Pin = A0; // 조도센서(CDS) 핀
int LED = 4;        // LED 핀 
int LEDBUTTON = 5; // LED 제어 버튼 핀

///////////////////////////////////////////////////////////////////////////////////////
//                                 Initial Value                                     //
///////////////////////////////////////////////////////////////////////////////////////

////////////////////////////// <LED 파트> /////////////////////////////

int State1 = 0; // LED 버튼 상태 변환 변수
int LEDBUTTONState; // LED 버튼 상태 변수
int Count1 = 0; // LED 버튼 눌린 횟수 카운터

///////////////////////////////////////////////////////////////////////////////////////
//                                 Setup Part                                        //
///////////////////////////////////////////////////////////////////////////////////////

void setup()
{
  Serial.begin(9600); //PC모니터를 이용하기 위하여, 시리얼통신을 정의해줍니다..

  pinMode(LED,OUTPUT); // LED를 출력으로 설정
  pinMode(LEDBUTTON,INPUT); // LED ON/OFF 버튼을 입력으로 설정
}


///////////////////////////////////////////////////////////////////////////////////////
//                                  Loop Part                                        //
///////////////////////////////////////////////////////////////////////////////////////

void loop() 
{
/////////////////////////// LED Setting //////////////////////

  LEDBUTTONState = digitalRead(LEDBUTTON); // 현재 LED 버튼 상태 입력
  
  int Light=analogRead(LightSensor_Pin); // 현재 조도 상태 입력

  delay(10);


///////////////////////////////// LED Button Part /////////////////////////////////

   if(LEDBUTTONState == HIGH){ // LED버튼이 눌리지 않았을때
    if(State1==0){ // 상태가 0 이었다면
     delay(10);
     State1=1;     // 상태를 1로 바꿈
     }
  }
  if(LEDBUTTONState == LOW){ // LED버튼이 눌리면
    if(State1==1){ // 상태가 1이라면
     Count1 +=1;   // count 값 증가(눌렸음을 표시)
     delay(10);   
     State1=0;     // 상태를 0으로 바꿈
     }
  }

   if(Count1%2==0){
      digitalWrite(LED, LOW); // LED 버튼이 짝수번 눌리면 OFF
  }
  else{
      digitalWrite(LED, HIGH); // LED 버튼이 홀수번 눌리면 ON
  }

////////////////////////////////////////////////////////////////////////////////////////////
//                                          Serial Monitor                                //
////////////////////////////////////////////////////////////////////////////////////////////

  //시리얼 모니터 함수 (조도 확인용)
  Serial.print("Light: ");
  Serial.println(Light);
}














